<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>FooTable - jQuery plugin for responsive HTML tables</title>
    <meta name="viewport" content = "width = device-width, initial-scale = 1.0, minimum-scale = 1.0, maximum-scale = 1.0, user-scalable = no" />

    <link href="css/footable-0.1.css" rel="stylesheet" type="text/css" />
    <link href="css/footable.sortable-0.1.css" rel="stylesheet" type="text/css" />


    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.9.1.min.js"><\/script>')</script>


    <script src="js/vendor/footable.js" type="text/javascript"></script>
    <script src="js/vendor/footable.sortable.js" type="text/javascript"></script>

    <script src="http://www.parsecdn.com/js/parse-1.2.8.min.js"></script>


    <script type="text/javascript">
        $(function() {
            Parse.initialize("hZ0hl9heShCM59t71ycXjmkQzrbL7F8lafLSqmmT", "oND7OhOLY1XSa59D7LlOdMbR46XT5CsLEeimJD1Q");
            var board = Parse.Object.extend('Scores');
            var query = new Parse.Query(board);
            query.descending('score');

            query.find({
                success : function(results) {
                    if(results.length > 0) {
                        var $tbody = $('#tbody');
                        results.forEach(function(el, i){
                            var tr = '<tr>'
                            +  '<td >'+ el.get('name') +'</td>'
                            +  '<td data-value="' + el.get('score') + '">'+ el.get('score') +'</td>'
                            +  '<td data-value="'+ el.get('correct') +'"> '+ el.get('correct') +' </td>'
                            +  '<td>'+ el.get('jenCategory') +'</td>'
                            +  '<td>'+ el.get('ianCategory') +'</td>'
                            +  '</tr>'

                            $tbody.append(tr);
                        });
                        $('table').footable();
                    }
                },

                error : function(error) {
                    console.log("Error: " + error.code + " " + error.message);
                }
            });

        });
    </script>
</head>
<body>
<table class="footable">
    <thead>
    <tr>
        <th data-class="expand" >
            Name
        </th>
        <th data-type="numeric">
            Score
        </th>
        <th data-hide="phone" data-type="numeric">
            Correct
        </th>
        <th data-hide="phone">
            Jen Category
        </th>
        <th data-hide="phone">
            Ian Category
        </th>
    </tr>
    </thead>
    <tbody id="tbody">

    </tbody>
</table>

</body>
</html>
